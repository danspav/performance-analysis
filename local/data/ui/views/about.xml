<dashboard script="token-via-links.js">
<init>
    <set token="menuItem">default-thresholds</set>
  </init> 
  <label>About</label>
  <description>How to use the Performance Analysis visualization.</description>
  <row>
    <panel>
      <title>$menuItem$</title>
      <html>
      <h2>Performance Analysis Visualization</h2>
      <h4>Version: 1.0</h4>
      <h4>Created by Daniel Spavin (<a href="mailto:daniel@spavin.org">daniel@spavin.org</a>)</h4>
        </html>
    </panel>
  </row>
  <row>
    <panel>
      <title>Server Infrastructure and Application Performance</title>
      <viz type="performance-analysis.performance_analysis">
        <title>$menuItem$</title>
        <search>
          <query>| inputlookup sample-data.csv | rename time as _time| table _time, name, value, status, warning_threshold, critical_threshold</query>
          <earliest>-4h@m</earliest>
          <latest>now</latest>
          <sampleRatio>1</sampleRatio>
        </search>
        <option name="drilldown">none</option>
        <option name="performance-analysis.performance_analysis.criticalColour">#DD0000</option>
        <option name="performance-analysis.performance_analysis.criticalThreshold">18</option>
        <option name="performance-analysis.performance_analysis.downTimeEnd">7</option>
        <option name="performance-analysis.performance_analysis.downTimeStart">0</option>
        <option name="performance-analysis.performance_analysis.granularity">60</option>
        <option name="performance-analysis.performance_analysis.noDataColour">#5EBFC6</option>
        <option name="performance-analysis.performance_analysis.okColour">#78B24A</option>
        <option name="performance-analysis.performance_analysis.showLegend">true</option>
        <option name="performance-analysis.performance_analysis.showStatusAsText">true</option>
        <option name="performance-analysis.performance_analysis.timeFormat">h:mm A</option>
        <option name="performance-analysis.performance_analysis.warningColour">#f8be34</option>
        <option name="performance-analysis.performance_analysis.warningThreshold">12</option>
        <option name="trellis.enabled">0</option>
        <option name="trellis.scales.shared">1</option>
        <option name="trellis.size">medium</option>
      </viz>
    </panel>
  </row>
  <row>
    <panel>
      <html>
        <style>
          .button, .button:hover {
    background-color: white;
    border: 2px solid #4CAF50!important;
    color: #4CAF50;
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    border-radius: 3px;
    }
    
    .on, .on:hover{
    background-color: #4CAF50!important; /* Green */
    color: white!important;
    font-weight:bold;
    border: 2px solid #4CAF50!important; /* Green */
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    border-radius: 3px;
    }
    
    
    </style>
    <body>
      <h4>Settings</h4>

<button class="button on" data-on-class="on" data-off-class="button" data-set-token="default-thresholds" data-unset-token="options,colours,downtime-range,time-format"  data-value="default-thresholds">Default Thresholds</button>
<button class="button" data-on-class="on" data-off-class="button" data-set-token="options" data-unset-token="default-thresholds,colours,downtime-range,time-format" data-value="options">Options</button>
<button class="button" data-on-class="on" data-off-class="button" data-set-token="colours" data-unset-token="options,default-thresholds,downtime-range,time-format"  data-value="colours">Colours</button>
<button class="button" data-on-class="on" data-off-class="button" data-set-token="downtime-range" data-unset-token="options,colours,default-thresholds,time-format"  data-value="downtime-range">Downtime Range</button>
<button class="button" data-on-class="on" data-off-class="button" data-set-token="time-format" data-unset-token="options,colours,downtime-range,default-thresholds"  data-value="time-format">Time Format</button>

    </body>
    </html></panel></row>
    <row><panel depends="$default-thresholds$"><html>
      <table cellpadding="10">
        <tr>
            <td>
              <img src="/static/app/performance-analysis/images/about-default-thresholds.png"/>
            </td>
            <td valign="top">The default thresholds will be used for all rows if you don't specify any thresholds in your search query.<br/>
            This value controls the background color of the cells, where green indicates that the value is normal, yellow indicates a warning, and red indicates a critical state.<br/>
            You can set these valuse in the search query by using an <code>eval</code> statement:<br/>
            <code>...| eval warning_threshold = case(name=="windows_server", 60,name=="unix_server", 65, 1==1, 70)<br/>
            | eval critical_threshold = case(name=="windows_server", 80,name=="unix_server", 85, 1==1, 90)</code>
            </td>
          </tr>
          </table>
        </html>
    </panel>
    
    <panel depends="$options$"><html>  <table cellpadding="10">
      <tr>
            <td>
              <img src="/static/app/performance-analysis/images/about-options.png"/>
            </td>
            <td valign="top">
              <b>Granularity</b> sets the duration of each cell, in minutes. <br/> 5 = 5 minute intervals.<br/>30 = half-hour intervals.<br/>60 = 1 hour intervals.<br/>
              <br/>
            <b>Show Legend</b> turns the legend on and off. When set to 'show' the visualization will have a legend at the bottom left. <br/>
              <br/>
            <b>Status Format</b> determines what sort of decoration goes in the middle of the cells. Select 'Text' for textual values (GREEN / AMBER / RED) and 'Numerical' to show a number instead.
            </td>
          </tr>
          </table></html>
    </panel>
    
        <panel depends="$colours$"><html>  <table cellpadding="10">
      <tr>
            <td>
              <img src="/static/app/performance-analysis/images/about-colours.png"/>
            </td>
            <td valign="top">
              <b>Colours</b> allows you to choose the colour scheme for the values (cell background colours).</td>
          </tr>
          </table></html>
    </panel>
    
            <panel depends="$downtime-range$"><html>  <table cellpadding="10">
      <tr>
            <td>
              <img src="/static/app/performance-analysis/images/about-downtime-range.png"/>
            </td>
            <td valign="top">
              <b>Downtime Range</b> lets you indicate when there is regular scheduled downtime for your environment. Use 24 hour format: 0 = Midnight, 12 = Midday, 22 = 10 PM.<br/>
            Downtime is indicated by showing a grayed out cell. You can still see the value and status, however the downtime indication lets you know that downtime was in effect.
            </td>
          </tr>
          </table>
            
            </html>
    </panel>
    
    
            <panel depends="$time-format$"><html>  
          <table cellpadding="10">
      <tr>
            <td>
              <img src="/static/app/performance-analysis/images/about-time-format.png"/>
            </td>
            <td valign="top">
              <b>Time Format</b> lets you choose how the times are displayed at the top of the visualization. </td>
          </tr>
      </table>
      
            </html>
    </panel>
  </row>
</dashboard>